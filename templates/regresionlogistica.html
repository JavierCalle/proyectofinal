{% extends 'layout.html' %}

{% block body %}
<br> <br>
<div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="col-md-12 mt-md-0 mt-3">

            <h3 style="background:dodgerblue; color: white;"><b>REGRESIÓN LOGÍSTICA</b></h3>
            <br>
            <div class="contenedor" >
                <div class="card border-dark mb-3" style="max-width: 45rem;">
                        <div class="card-header"></div>
                        <div class="card-body text-dark" style="height:180px; overflow-y: scroll;">
                          <h5 class="card-title">Resumen</h5>
                          <p class="card-text" style="text-align:justify;">
                                Los datos para aplicar el algoritmo de regresión logística fueron recopilados a partir 
                                de 1985 hasta el 2019. La mayoria de estos datos se obtuvieron de la página
                                <a style="color:blue;" href="https://earthquake.usgs.gov/earthquakes/map/#%7B%22feed%22%3A%221574788176102%22%2C%22sort%22%3A%22newest%22%2C%22basemap%22%3A%22terrain%22%2C%22restrictListToMap%22%3A%5B%22restrictListToMap%22%5D%2C%22timezone%22%3A%22utc%22%2C%22mapposition%22%3A%5B%5B-85%2C0%5D%2C%5B85%2C360%5D%5D%2C%22overlays%22%3A%5B%22plates%22%5D%2C%22viewModes%22%3A%5B%22list%22%2C%22map%22%5D%2C%22listFormat%22%3A%22default%22%2C%22autoUpdate%22%3Afalse%2C%22search%22%3A%7B%22id%22%3A%221574788176102%22%2C%22name%22%3A%22Search%20Results%22%2C%22isSearch%22%3Atrue%2C%22params%22%3A%7B%22starttime%22%3A%221987-01-01T15%3A18%3A03.350Z%22%2C%22endtime%22%3A%222019-10-02T15%3A18%3A03.350Z%22%2C%22latitude%22%3A-1.8675%2C%22longitude%22%3A-77.8884%2C%22maxradiuskm%22%3A250%2C%22minmagnitude%22%3A4.5%2C%22orderby%22%3A%22time%22%7D%7D%7D">USGS</a>.
                                Una vez recolectados los datos se procedió a realizar el respectivo análisis y procesamiento.
                                Al entrenar el algoritmo de regresión logística se obtuvo una presición del 70%. Una vez entrenado 
                                el modelo se procedió a realizar la respectiva predicción la cual se detalla en la parte inferior
                                de esta página. Si desea ver los datos usados para la prediccion haga clic <a style="color:blue;" href="/verdatosregresion">aqui</a>.
                            </p>
                        </div>
                      </div>
            </div> <br> <br>
            <div class="contenedor" >
                <div class="card border-dark mb-3" style="max-width: 50rem;">
                    <div class="card-header" style="background:lightblue; color: darkblue; font-size: 18px;">
                        <strong>Descripción de los Parámetros</strong></div>
                    <div class="card-body text-dark" >
                        <img class="col-xs-12 col-sm-12 col-md-12 col-lg-12" src="{{ url_for('static', filename='Imag/descripcionparametrosrg.png') }}" width="650" height="250"/>
                        <h5 class="card-title"></h5>
                        <p class="card-text" style="text-align:justify;">
                            Como se observa en la gráfica existen 4 características tomadas para el pronóstico de probabilidad 
                            de ocurrencia de un sismo. En la primera característica que es el <b>Epicentro</b> el 0 representa
                             a la región Costa, el 1 a la región del Oriente y el 2 a la región Sierra. Como se visualiza en la 
                             región del Oriente es donde más ocurren sismos. La segunda característica es el <b>Mes</b>, en el 
                             cual se observa que durante los primeros y últimos meses son donde más sismos ocurren. La tercera
                             característica es la <b>Magnitud Máxima</b> ocurrida cada año desde 1985 hasta el 2019. Se puede 
                             ver claramente que en la mayoría de los años la magnitud máxima no pasa de 5.5. Finalmente está la 
                             característica de <b>Magnitud Mínima</b>  que en su gran mayoría es de 4. Es importante mencionar 
                             que los sismos tomados fueron aquellos de magnitud mayor o igual a 4, de ahí que esta característica 
                             en su gran mayoría tenga esta magnitud.
                        </p>
                    </div>
                </div>
            </div> 
            <br><br>
            <div class="contenedor" >
                <div class="card border-dark mb-3" style="max-width: 50rem;">
                    <div class="card-header" style="background:lightblue; color: darkblue; font-size: 18px;">
                        <strong>Comparación de Datos</strong></div>
                    <div class="card-body text-dark" >
                        <img class="col-xs-12 col-sm-12 col-md-12 col-lg-12" src="{{ url_for('static', filename='Imag/comparacionreg.png') }}" width="600" height="350"/>
                        <h5 class="card-title"></h5>
                        <p class="card-text" style="text-align:justify;">
                            Como se puede visualizar en la gráfica existen líneas de color naranja y azules. Las líneas de color 
                            <b style="color:orange;">Naranja</b> representan los datos predichos mientras que las líneas de 
                            color <b style="color:blue;">Azul</b> representan los datos reales. Se puede observar claramente 
                            que las líneas <b style="color:orange;">Naranjas</b> cubren la mayoría de las líneas 
                            <b style="color:blue;">Azules</b> lo que respalda el porcentaje de precisión del modelo de 
                            regresión logística mencionado anteriormente.
                        </p>
                    </div>
                </div>
            </div>
            <br><br>
            <div class="contenedor" >
                <div class="card border-dark mb-3" style="max-width: 50rem;">
                    <div class="card-header" style="background:lightblue; color: darkblue; font-size: 18px;">
                        <strong>Curva ROC</strong></div>
                    <div class="card-body text-dark" >
                        <a class="thickbox col-xs-12 col-sm-12 col-md-12 col-lg-12" href="{{ url_for('static', filename='Imag/comparacion_roc.png') }}"><img class="col-xs-12 col-sm-12 col-md-12 col-lg-12" width="ancho" height="alto" class="alignleft" alt="" src="{{ url_for('static', filename='Imag/curva_roc.png') }}" /></a>
                        <h5 class="card-title"></h5>
                        <p class="card-text" style="text-align:justify;">
                            El gráfico mostrado nos indica que con un valor por encima del 0.6885 los datos están más
                            propensos a ser distribuidos correctamente, es decir que todos los puntos que se distribuyan
                            por encima de esta línea tendrán mayor posibilidad de ser clasificados correctamente. La curva
                            roc tambien fue generada mediante el programa SPSS arrojando un gráfico bastante parecido,
                            si desea comparar las dos gráficas solo haga clic encima de la imagen de la curva roc.
                             
                        </p>
                    </div>
                </div>
            </div>  
            <br><br> 
            <div class="contenedor" >
                <div class="card border-dark mb-3" style="max-width: 50rem;">
                    <div class="card-header" style="background:lightblue; color: darkblue; font-size: 18px;">
                        <strong>Matriz de Confusión</strong></div>
                    <div class="card-body text-dark" >
                        <img class="col-xs-12 col-sm-12 col-md-12 col-lg-12" src="{{ url_for('static', filename='Imag/matrizdeconfusion.png') }}" width="550" height="250"/>
                        <h5 class="card-title"></h5>
                        <p  class="card-text" style="text-align:justify;">
                            La matriz de confusión nos indica: <b>Primero,</b> una vez aplicado el modelo de regresión
                            logística 191 datos fueron verdaderos positivos, es decir sismos que en verdad ocurrieron
                            y algoritmo lo predijo correctamente. <b>Segundo,</b> 82 datos fueron catalogados como
                            verdaderos negativos, es decir sismos que en verdad ocurrieron pero el modelo de regresión
                            no predijo correctamente. <b>Tercero,</b> 31 datos fueron clasificados como falsos negativos
                            puesto que los sismos no ocurrieron pero el algoritmo dijo que sí. Y <b>Cuarto,</b> 78 datos
                            fueron clasificados como falsos positivos, es decir sismos que no ocurrieron y el modelo lo
                            predijo correctamente.
                        </p>
                    </div>
                </div>
            </div>
            <br><br> 
            <div class="contenedor" >
                <div class="card border-dark mb-3" style="max-width: 50rem;">
                    <div class="card-header" style="background:lightblue; color: darkblue; font-size: 18px;">
                        <strong>Cantidad de Sismos 2020</strong></div>
                    <div class="card-body text-dark" >
                        <img class="col-xs-12 col-sm-12 col-md-12 col-lg-12" src="{{ url_for('static', filename='Imag/sismospredecidos.png') }}" width="600" height="350"/>
                        <h5 class="card-title"></h5>
                        <p  class="card-text" style="text-align:justify;">
                            Una vez entrenado el modelo de regresión se obtuvieron los siguientes
                            resultados los cuales nos indica que aproximadamente en este año 2020 van a
                            ocurrir una cantidad mínima de <b>20</b> sismos con una magnitud mínima de <b>4</b> 
                            y una magnitud máxima de <b>6.5</b>. Recordemos que la probabilidad de 
                            ocurrencia es del <b>0.70%</b> ya que este fue el valor arrojado por nuestro modelo.
                        </p>
                    </div>
                </div>
            </div>
            <br><br> 
            <div class="contenedor" >
                <div class="card border-dark mb-3" style="max-width: 50rem;">
                    <div class="card-header" style="background:lightblue; color: darkblue; font-size: 18px;">
                        <strong>Predicción de Sismos 2020</strong></div>
                    <div class="card-body text-dark" >
                        <img class="col-xs-12 col-sm-12 col-md-12 col-lg-12" src="{{ url_for('static', filename='Imag/sismos2020.png') }}" width="600" height="350"/>
                        <h5 class="card-title"></h5>
                        <p  class="card-text" style="text-align:justify;">
                            Con el algoritmo de regresión logística entrenado se procedió a realizar la predicción
                            de los sismos para el año <b>2020</b> cuyos resultados de la gráfica se interpreta de la 
                            siguiente manera: la parte superior hasta donde llega la línea <b style="color:blue;">Azul</b>
                            nos indica el mes y la línea de color <b style="color:orange;">Naranja</b> nos indica que
                            hay un 70% de posibilidades de ocurrencia de un sismo. Por ejemplo en el mes de <b>Marzo</b> 
                            en la región <b>Sierra</b> va a ocurrir un sismo cuya magnitud puede variar  entre <b>4</b> y <b>6.5</b>
                            que son las magnitudes dadas para realizar la predicción.
                        </p>
                    </div>
                </div>
            </div>

        </div>
        
    </div>
</div>

{% endblock %}